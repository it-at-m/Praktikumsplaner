import{aV as ar,aW as ir,aX as sr,aY as or,aZ as Lr,a_ as ct,a$ as Wr,_ as f,b0 as ne,d as Ye,s as Or,g as Hr,q as Nr,r as Vr,c as Pr,b as zr,v as Rr,m as Br,l as tt,j as je,k as Zr,e as qr,u as Xr}from"../app.DX2HXp80.js";import{b as Gr,t as Vt,c as jr,a as Qr,l as Jr}from"./linear.Cr1Ft7XV.js";import{i as $r}from"./init.Gi6I4Gst.js";import"./framework.CGf6pjj5.js";import"./theme.eHFI-PbM.js";function Kr(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}return r}function en(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(r>a||r===void 0&&a>=a)&&(r=a)}return r}function tn(e){return e}var $e=1,lt=2,bt=3,Qe=4,Pt=1e-6;function rn(e){return"translate("+e+",0)"}function nn(e){return"translate(0,"+e+")"}function an(e){return t=>+e(t)}function sn(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),r=>+e(r)+t}function on(){return!this.__axis}function cr(e,t){var r=[],n=null,a=null,i=6,s=6,m=3,p=typeof window<"u"&&window.devicePixelRatio>1?0:.5,k=e===$e||e===Qe?-1:1,y=e===Qe||e===lt?"x":"y",_=e===$e||e===bt?rn:nn;function w(v){var W=n??(t.ticks?t.ticks.apply(t,r):t.domain()),M=a??(t.tickFormat?t.tickFormat.apply(t,r):tn),R=Math.max(i,0)+m,G=t.range(),K=+G[0]+p,B=+G[G.length-1]+p,Z=(t.bandwidth?sn:an)(t.copy(),p),Q=v.selection?v.selection():v,D=Q.selectAll(".domain").data([null]),N=Q.selectAll(".tick").data(W,t).order(),C=N.exit(),U=N.enter().append("g").attr("class","tick"),S=N.select("line"),Y=N.select("text");D=D.merge(D.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),N=N.merge(U),S=S.merge(U.append("line").attr("stroke","currentColor").attr(y+"2",k*i)),Y=Y.merge(U.append("text").attr("fill","currentColor").attr(y,k*R).attr("dy",e===$e?"0em":e===bt?"0.71em":"0.32em")),v!==Q&&(D=D.transition(v),N=N.transition(v),S=S.transition(v),Y=Y.transition(v),C=C.transition(v).attr("opacity",Pt).attr("transform",function(x){return isFinite(x=Z(x))?_(x+p):this.getAttribute("transform")}),U.attr("opacity",Pt).attr("transform",function(x){var A=this.parentNode.__axis;return _((A&&isFinite(A=A(x))?A:Z(x))+p)})),C.remove(),D.attr("d",e===Qe||e===lt?s?"M"+k*s+","+K+"H"+p+"V"+B+"H"+k*s:"M"+p+","+K+"V"+B:s?"M"+K+","+k*s+"V"+p+"H"+B+"V"+k*s:"M"+K+","+p+"H"+B),N.attr("opacity",1).attr("transform",function(x){return _(Z(x)+p)}),S.attr(y+"2",k*i),Y.attr(y,k*R).text(M),Q.filter(on).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===lt?"start":e===Qe?"end":"middle"),Q.each(function(){this.__axis=Z})}return w.scale=function(v){return arguments.length?(t=v,w):t},w.ticks=function(){return r=Array.from(arguments),w},w.tickArguments=function(v){return arguments.length?(r=v==null?[]:Array.from(v),w):r.slice()},w.tickValues=function(v){return arguments.length?(n=v==null?null:Array.from(v),w):n&&n.slice()},w.tickFormat=function(v){return arguments.length?(a=v,w):a},w.tickSize=function(v){return arguments.length?(i=s=+v,w):i},w.tickSizeInner=function(v){return arguments.length?(i=+v,w):i},w.tickSizeOuter=function(v){return arguments.length?(s=+v,w):s},w.tickPadding=function(v){return arguments.length?(m=+v,w):m},w.offset=function(v){return arguments.length?(p=+v,w):p},w}function cn(e){return cr($e,e)}function ln(e){return cr(bt,e)}const un=Math.PI/180,fn=180/Math.PI,rt=18,lr=.96422,ur=1,fr=.82521,hr=4/29,Fe=6/29,dr=3*Fe*Fe,hn=Fe*Fe*Fe;function mr(e){if(e instanceof fe)return new fe(e.l,e.a,e.b,e.opacity);if(e instanceof ge)return gr(e);e instanceof sr||(e=Lr(e));var t=dt(e.r),r=dt(e.g),n=dt(e.b),a=ut((.2225045*t+.7168786*r+.0606169*n)/ur),i,s;return t===r&&r===n?i=s=a:(i=ut((.4360747*t+.3850649*r+.1430804*n)/lr),s=ut((.0139322*t+.0971045*r+.7141733*n)/fr)),new fe(116*a-16,500*(i-a),200*(a-s),e.opacity)}function dn(e,t,r,n){return arguments.length===1?mr(e):new fe(e,t,r,n??1)}function fe(e,t,r,n){this.l=+e,this.a=+t,this.b=+r,this.opacity=+n}ar(fe,dn,ir(or,{brighter(e){return new fe(this.l+rt*(e??1),this.a,this.b,this.opacity)},darker(e){return new fe(this.l-rt*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return t=lr*ft(t),e=ur*ft(e),r=fr*ft(r),new sr(ht(3.1338561*t-1.6168667*e-.4906146*r),ht(-.9787684*t+1.9161415*e+.033454*r),ht(.0719453*t-.2289914*e+1.4052427*r),this.opacity)}}));function ut(e){return e>hn?Math.pow(e,1/3):e/dr+hr}function ft(e){return e>Fe?e*e*e:dr*(e-hr)}function ht(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function dt(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function mn(e){if(e instanceof ge)return new ge(e.h,e.c,e.l,e.opacity);if(e instanceof fe||(e=mr(e)),e.a===0&&e.b===0)return new ge(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*fn;return new ge(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function xt(e,t,r,n){return arguments.length===1?mn(e):new ge(e,t,r,n??1)}function ge(e,t,r,n){this.h=+e,this.c=+t,this.l=+r,this.opacity=+n}function gr(e){if(isNaN(e.h))return new fe(e.l,0,0,e.opacity);var t=e.h*un;return new fe(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}ar(ge,xt,ir(or,{brighter(e){return new ge(this.h,this.c,this.l+rt*(e??1),this.opacity)},darker(e){return new ge(this.h,this.c,this.l-rt*(e??1),this.opacity)},rgb(){return gr(this).rgb()}}));function gn(e){return function(t,r){var n=e((t=xt(t)).h,(r=xt(r)).h),a=ct(t.c,r.c),i=ct(t.l,r.l),s=ct(t.opacity,r.opacity);return function(m){return t.h=n(m),t.c=a(m),t.l=i(m),t.opacity=s(m),t+""}}}const yn=gn(Wr);function kn(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}const mt=new Date,gt=new Date;function $(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),m=a.ceil(i);return i-s<m-i?s:m},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,m)=>{const p=[];if(i=a.ceil(i),m=m==null?1:Math.floor(m),!(i<s)||!(m>0))return p;let k;do p.push(k=new Date(+i)),t(i,m),e(i);while(k<i&&i<s);return p},a.filter=i=>$(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,m)=>{if(s>=s)if(m<0)for(;++m<=0;)for(;t(s,-1),!i(s););else for(;--m>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(mt.setTime(+i),gt.setTime(+s),e(mt),e(gt),Math.floor(r(mt,gt))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const Ee=$(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ee.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?$(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Ee);Ee.range;const ye=1e3,se=ye*60,ke=se*60,ve=ke*24,_t=ve*7,zt=ve*30,yt=ve*365,Te=$(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ye)},(e,t)=>(t-e)/ye,e=>e.getUTCSeconds());Te.range;const Ne=$(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ye)},(e,t)=>{e.setTime(+e+t*se)},(e,t)=>(t-e)/se,e=>e.getMinutes());Ne.range;const vn=$(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*se)},(e,t)=>(t-e)/se,e=>e.getUTCMinutes());vn.range;const Ve=$(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ye-e.getMinutes()*se)},(e,t)=>{e.setTime(+e+t*ke)},(e,t)=>(t-e)/ke,e=>e.getHours());Ve.range;const pn=$(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ke)},(e,t)=>(t-e)/ke,e=>e.getUTCHours());pn.range;const xe=$(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*se)/ve,e=>e.getDate()-1);xe.range;const St=$(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ve,e=>e.getUTCDate()-1);St.range;const Tn=$(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ve,e=>Math.floor(e/ve));Tn.range;function Ce(e){return $(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*se)/_t)}const Re=Ce(0),Pe=Ce(1),yr=Ce(2),kr=Ce(3),we=Ce(4),vr=Ce(5),pr=Ce(6);Re.range;Pe.range;yr.range;kr.range;we.range;vr.range;pr.range;function Me(e){return $(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/_t)}const Tr=Me(0),nt=Me(1),bn=Me(2),xn=Me(3),Ie=Me(4),wn=Me(5),Dn=Me(6);Tr.range;nt.range;bn.range;xn.range;Ie.range;wn.range;Dn.range;const ze=$(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ze.range;const Cn=$(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Cn.range;const pe=$(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());pe.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});pe.range;const De=$(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());De.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});De.range;function Mn(e,t,r,n,a,i){const s=[[Te,1,ye],[Te,5,5*ye],[Te,15,15*ye],[Te,30,30*ye],[i,1,se],[i,5,5*se],[i,15,15*se],[i,30,30*se],[a,1,ke],[a,3,3*ke],[a,6,6*ke],[a,12,12*ke],[n,1,ve],[n,2,2*ve],[r,1,_t],[t,1,zt],[t,3,3*zt],[e,1,yt]];function m(k,y,_){const w=y<k;w&&([k,y]=[y,k]);const v=_&&typeof _.range=="function"?_:p(k,y,_),W=v?v.range(k,+y+1):[];return w?W.reverse():W}function p(k,y,_){const w=Math.abs(y-k)/_,v=Gr(([,,R])=>R).right(s,w);if(v===s.length)return e.every(Vt(k/yt,y/yt,_));if(v===0)return Ee.every(Math.max(Vt(k,y,_),1));const[W,M]=s[w/s[v-1][2]<s[v][2]/w?v-1:v];return W.every(M)}return[m,p]}const[_n,Sn]=Mn(pe,ze,Re,xe,Ve,Ne);function kt(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function vt(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Le(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Yn(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,m=e.months,p=e.shortMonths,k=We(a),y=Oe(a),_=We(i),w=Oe(i),v=We(s),W=Oe(s),M=We(m),R=Oe(m),G=We(p),K=Oe(p),B={a:g,A:E,b:c,B:h,c:null,d:Gt,e:Gt,f:$n,g:ca,G:ua,H:jn,I:Qn,j:Jn,L:br,m:Kn,M:ea,p:o,q:P,Q:Jt,s:$t,S:ta,u:ra,U:na,V:aa,w:ia,W:sa,x:null,X:null,y:oa,Y:la,Z:fa,"%":Qt},Z={a:O,A:V,b:ee,B:q,c:null,d:jt,e:jt,f:ga,g:Ca,G:_a,H:ha,I:da,j:ma,L:wr,m:ya,M:ka,p:X,q:oe,Q:Jt,s:$t,S:va,u:pa,U:Ta,V:ba,w:xa,W:wa,x:null,X:null,y:Da,Y:Ma,Z:Sa,"%":Qt},Q={a:S,A:Y,b:x,B:A,c:u,d:qt,e:qt,f:Zn,g:Zt,G:Bt,H:Xt,I:Xt,j:Pn,L:Bn,m:Vn,M:zn,p:U,q:Nn,Q:Xn,s:Gn,S:Rn,u:An,U:Ln,V:Wn,w:In,W:On,x:d,X:b,y:Zt,Y:Bt,Z:Hn,"%":qn};B.x=D(r,B),B.X=D(n,B),B.c=D(t,B),Z.x=D(r,Z),Z.X=D(n,Z),Z.c=D(t,Z);function D(T,I){return function(L){var l=[],re=-1,F=0,j=T.length,z,ce,he;for(L instanceof Date||(L=new Date(+L));++re<j;)T.charCodeAt(re)===37&&(l.push(T.slice(F,re)),(ce=Rt[z=T.charAt(++re)])!=null?z=T.charAt(++re):ce=z==="e"?" ":"0",(he=I[z])&&(z=he(L,ce)),l.push(z),F=re+1);return l.push(T.slice(F,re)),l.join("")}}function N(T,I){return function(L){var l=Le(1900,void 0,1),re=C(l,T,L+="",0),F,j;if(re!=L.length)return null;if("Q"in l)return new Date(l.Q);if("s"in l)return new Date(l.s*1e3+("L"in l?l.L:0));if(I&&!("Z"in l)&&(l.Z=0),"p"in l&&(l.H=l.H%12+l.p*12),l.m===void 0&&(l.m="q"in l?l.q:0),"V"in l){if(l.V<1||l.V>53)return null;"w"in l||(l.w=1),"Z"in l?(F=vt(Le(l.y,0,1)),j=F.getUTCDay(),F=j>4||j===0?nt.ceil(F):nt(F),F=St.offset(F,(l.V-1)*7),l.y=F.getUTCFullYear(),l.m=F.getUTCMonth(),l.d=F.getUTCDate()+(l.w+6)%7):(F=kt(Le(l.y,0,1)),j=F.getDay(),F=j>4||j===0?Pe.ceil(F):Pe(F),F=xe.offset(F,(l.V-1)*7),l.y=F.getFullYear(),l.m=F.getMonth(),l.d=F.getDate()+(l.w+6)%7)}else("W"in l||"U"in l)&&("w"in l||(l.w="u"in l?l.u%7:"W"in l?1:0),j="Z"in l?vt(Le(l.y,0,1)).getUTCDay():kt(Le(l.y,0,1)).getDay(),l.m=0,l.d="W"in l?(l.w+6)%7+l.W*7-(j+5)%7:l.w+l.U*7-(j+6)%7);return"Z"in l?(l.H+=l.Z/100|0,l.M+=l.Z%100,vt(l)):kt(l)}}function C(T,I,L,l){for(var re=0,F=I.length,j=L.length,z,ce;re<F;){if(l>=j)return-1;if(z=I.charCodeAt(re++),z===37){if(z=I.charAt(re++),ce=Q[z in Rt?I.charAt(re++):z],!ce||(l=ce(T,L,l))<0)return-1}else if(z!=L.charCodeAt(l++))return-1}return l}function U(T,I,L){var l=k.exec(I.slice(L));return l?(T.p=y.get(l[0].toLowerCase()),L+l[0].length):-1}function S(T,I,L){var l=v.exec(I.slice(L));return l?(T.w=W.get(l[0].toLowerCase()),L+l[0].length):-1}function Y(T,I,L){var l=_.exec(I.slice(L));return l?(T.w=w.get(l[0].toLowerCase()),L+l[0].length):-1}function x(T,I,L){var l=G.exec(I.slice(L));return l?(T.m=K.get(l[0].toLowerCase()),L+l[0].length):-1}function A(T,I,L){var l=M.exec(I.slice(L));return l?(T.m=R.get(l[0].toLowerCase()),L+l[0].length):-1}function u(T,I,L){return C(T,t,I,L)}function d(T,I,L){return C(T,r,I,L)}function b(T,I,L){return C(T,n,I,L)}function g(T){return s[T.getDay()]}function E(T){return i[T.getDay()]}function c(T){return p[T.getMonth()]}function h(T){return m[T.getMonth()]}function o(T){return a[+(T.getHours()>=12)]}function P(T){return 1+~~(T.getMonth()/3)}function O(T){return s[T.getUTCDay()]}function V(T){return i[T.getUTCDay()]}function ee(T){return p[T.getUTCMonth()]}function q(T){return m[T.getUTCMonth()]}function X(T){return a[+(T.getUTCHours()>=12)]}function oe(T){return 1+~~(T.getUTCMonth()/3)}return{format:function(T){var I=D(T+="",B);return I.toString=function(){return T},I},parse:function(T){var I=N(T+="",!1);return I.toString=function(){return T},I},utcFormat:function(T){var I=D(T+="",Z);return I.toString=function(){return T},I},utcParse:function(T){var I=N(T+="",!0);return I.toString=function(){return T},I}}}var Rt={"-":"",_:" ",0:"0"},te=/^\s*\d+/,Fn=/^%/,Un=/[\\^$*+?|[\]().{}]/g;function H(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function En(e){return e.replace(Un,"\\$&")}function We(e){return new RegExp("^(?:"+e.map(En).join("|")+")","i")}function Oe(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function In(e,t,r){var n=te.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function An(e,t,r){var n=te.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Ln(e,t,r){var n=te.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Wn(e,t,r){var n=te.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function On(e,t,r){var n=te.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Bt(e,t,r){var n=te.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Zt(e,t,r){var n=te.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Hn(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Nn(e,t,r){var n=te.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Vn(e,t,r){var n=te.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function qt(e,t,r){var n=te.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Pn(e,t,r){var n=te.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Xt(e,t,r){var n=te.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function zn(e,t,r){var n=te.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Rn(e,t,r){var n=te.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Bn(e,t,r){var n=te.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Zn(e,t,r){var n=te.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function qn(e,t,r){var n=Fn.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Xn(e,t,r){var n=te.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Gn(e,t,r){var n=te.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Gt(e,t){return H(e.getDate(),t,2)}function jn(e,t){return H(e.getHours(),t,2)}function Qn(e,t){return H(e.getHours()%12||12,t,2)}function Jn(e,t){return H(1+xe.count(pe(e),e),t,3)}function br(e,t){return H(e.getMilliseconds(),t,3)}function $n(e,t){return br(e,t)+"000"}function Kn(e,t){return H(e.getMonth()+1,t,2)}function ea(e,t){return H(e.getMinutes(),t,2)}function ta(e,t){return H(e.getSeconds(),t,2)}function ra(e){var t=e.getDay();return t===0?7:t}function na(e,t){return H(Re.count(pe(e)-1,e),t,2)}function xr(e){var t=e.getDay();return t>=4||t===0?we(e):we.ceil(e)}function aa(e,t){return e=xr(e),H(we.count(pe(e),e)+(pe(e).getDay()===4),t,2)}function ia(e){return e.getDay()}function sa(e,t){return H(Pe.count(pe(e)-1,e),t,2)}function oa(e,t){return H(e.getFullYear()%100,t,2)}function ca(e,t){return e=xr(e),H(e.getFullYear()%100,t,2)}function la(e,t){return H(e.getFullYear()%1e4,t,4)}function ua(e,t){var r=e.getDay();return e=r>=4||r===0?we(e):we.ceil(e),H(e.getFullYear()%1e4,t,4)}function fa(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+H(t/60|0,"0",2)+H(t%60,"0",2)}function jt(e,t){return H(e.getUTCDate(),t,2)}function ha(e,t){return H(e.getUTCHours(),t,2)}function da(e,t){return H(e.getUTCHours()%12||12,t,2)}function ma(e,t){return H(1+St.count(De(e),e),t,3)}function wr(e,t){return H(e.getUTCMilliseconds(),t,3)}function ga(e,t){return wr(e,t)+"000"}function ya(e,t){return H(e.getUTCMonth()+1,t,2)}function ka(e,t){return H(e.getUTCMinutes(),t,2)}function va(e,t){return H(e.getUTCSeconds(),t,2)}function pa(e){var t=e.getUTCDay();return t===0?7:t}function Ta(e,t){return H(Tr.count(De(e)-1,e),t,2)}function Dr(e){var t=e.getUTCDay();return t>=4||t===0?Ie(e):Ie.ceil(e)}function ba(e,t){return e=Dr(e),H(Ie.count(De(e),e)+(De(e).getUTCDay()===4),t,2)}function xa(e){return e.getUTCDay()}function wa(e,t){return H(nt.count(De(e)-1,e),t,2)}function Da(e,t){return H(e.getUTCFullYear()%100,t,2)}function Ca(e,t){return e=Dr(e),H(e.getUTCFullYear()%100,t,2)}function Ma(e,t){return H(e.getUTCFullYear()%1e4,t,4)}function _a(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ie(e):Ie.ceil(e),H(e.getUTCFullYear()%1e4,t,4)}function Sa(){return"+0000"}function Qt(){return"%"}function Jt(e){return+e}function $t(e){return Math.floor(+e/1e3)}var Se,at;Ya({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ya(e){return Se=Yn(e),at=Se.format,Se.parse,Se.utcFormat,Se.utcParse,Se}function Fa(e){return new Date(e)}function Ua(e){return e instanceof Date?+e:+new Date(+e)}function Cr(e,t,r,n,a,i,s,m,p,k){var y=jr(),_=y.invert,w=y.domain,v=k(".%L"),W=k(":%S"),M=k("%I:%M"),R=k("%I %p"),G=k("%a %d"),K=k("%b %d"),B=k("%B"),Z=k("%Y");function Q(D){return(p(D)<D?v:m(D)<D?W:s(D)<D?M:i(D)<D?R:n(D)<D?a(D)<D?G:K:r(D)<D?B:Z)(D)}return y.invert=function(D){return new Date(_(D))},y.domain=function(D){return arguments.length?w(Array.from(D,Ua)):w().map(Fa)},y.ticks=function(D){var N=w();return e(N[0],N[N.length-1],D??10)},y.tickFormat=function(D,N){return N==null?Q:k(N)},y.nice=function(D){var N=w();return(!D||typeof D.range!="function")&&(D=t(N[0],N[N.length-1],D??10)),D?w(kn(N,D)):y},y.copy=function(){return Qr(y,Cr(e,t,r,n,a,i,s,m,p,k))},y}function Ea(){return $r.apply(Cr(_n,Sn,pe,ze,Re,xe,Ve,Ne,Te,at).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var pt="day",Ia="week",Aa="year",La="YYYY-MM-DDTHH:mm:ssZ",Wa="isoweek";const Oa=function(e,t,r){var n=function(p,k){var y=(k?r.utc:r)().year(p).startOf(Aa),_=4-y.isoWeekday();return y.isoWeekday()>4&&(_+=7),y.add(_,pt)},a=function(p){return p.add(4-p.isoWeekday(),pt)},i=t.prototype;i.isoWeekYear=function(){var m=a(this);return m.year()},i.isoWeek=function(m){if(!this.$utils().u(m))return this.add((m-this.isoWeek())*7,pt);var p=a(this),k=n(this.isoWeekYear(),this.$u);return p.diff(k,Ia)+1},i.isoWeekday=function(m){return this.$utils().u(m)?this.day()||7:this.day(this.day()%7?m:m-7)};var s=i.startOf;i.startOf=function(m,p){var k=this.$utils(),y=k.u(p)?!0:p,_=k.p(m);return _===Wa?y?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):s.bind(this)(m,p)}};var Ha=function(t){return t.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(r,n,a){return n||a.slice(1)})},Na={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Va=function(t,r){return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(n,a,i){var s=i&&i.toUpperCase();return a||r[i]||Na[i]||Ha(r[s])})},Pa=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,za=/\d/,Je=/\d\d/,Ra=/\d{3}/,Ba=/\d{4}/,le=/\d\d?/,Za=/[+-]?\d+/,qa=/[+-]\d\d:?(\d\d)?|Z/,He=/\d*[^-_:/,()\s\d]+/,be={},Mr=function(t){return t=+t,t+(t>68?1900:2e3)};function Xa(e){if(!e||e==="Z")return 0;var t=e.match(/([+-]|\d\d)/g),r=+(t[1]*60)+(+t[2]||0);return r===0?0:t[0]==="+"?-r:r}var ae=function(t){return function(r){this[t]=+r}},Kt=[qa,function(e){var t=this.zone||(this.zone={});t.offset=Xa(e)}],Tt=function(t){var r=be[t];return r&&(r.indexOf?r:r.s.concat(r.f))},er=function(t,r){var n,a=be,i=a.meridiem;if(!i)n=t===(r?"pm":"PM");else for(var s=1;s<=24;s+=1)if(t.indexOf(i(s,0,r))>-1){n=s>12;break}return n},Ga={A:[He,function(e){this.afternoon=er(e,!1)}],a:[He,function(e){this.afternoon=er(e,!0)}],S:[za,function(e){this.milliseconds=+e*100}],SS:[Je,function(e){this.milliseconds=+e*10}],SSS:[Ra,function(e){this.milliseconds=+e}],s:[le,ae("seconds")],ss:[le,ae("seconds")],m:[le,ae("minutes")],mm:[le,ae("minutes")],H:[le,ae("hours")],h:[le,ae("hours")],HH:[le,ae("hours")],hh:[le,ae("hours")],D:[le,ae("day")],DD:[Je,ae("day")],Do:[He,function(e){var t=be,r=t.ordinal,n=e.match(/\d+/);if(this.day=n[0],!!r)for(var a=1;a<=31;a+=1)r(a).replace(/\[|\]/g,"")===e&&(this.day=a)}],M:[le,ae("month")],MM:[Je,ae("month")],MMM:[He,function(e){var t=Tt("months"),r=Tt("monthsShort"),n=(r||t.map(function(a){return a.slice(0,3)})).indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[He,function(e){var t=Tt("months"),r=t.indexOf(e)+1;if(r<1)throw new Error;this.month=r%12||r}],Y:[Za,ae("year")],YY:[Je,function(e){this.year=Mr(e)}],YYYY:[Ba,ae("year")],Z:Kt,ZZ:Kt};function ja(e){var t=e.afternoon;if(t!==void 0){var r=e.hours;t?r<12&&(e.hours+=12):r===12&&(e.hours=0),delete e.afternoon}}function Qa(e){e=Va(e,be&&be.formats);for(var t=e.match(Pa),r=t.length,n=0;n<r;n+=1){var a=t[n],i=Ga[a],s=i&&i[0],m=i&&i[1];m?t[n]={regex:s,parser:m}:t[n]=a.replace(/^\[|\]$/g,"")}return function(p){for(var k={},y=0,_=0;y<r;y+=1){var w=t[y];if(typeof w=="string")_+=w.length;else{var v=w.regex,W=w.parser,M=p.slice(_),R=v.exec(M),G=R[0];W.call(k,G),p=p.replace(G,"")}}return ja(k),k}}var Ja=function(t,r,n){try{if(["x","X"].indexOf(r)>-1)return new Date((r==="X"?1e3:1)*t);var a=Qa(r),i=a(t),s=i.year,m=i.month,p=i.day,k=i.hours,y=i.minutes,_=i.seconds,w=i.milliseconds,v=i.zone,W=new Date,M=p||(!s&&!m?W.getDate():1),R=s||W.getFullYear(),G=0;s&&!m||(G=m>0?m-1:W.getMonth());var K=k||0,B=y||0,Z=_||0,Q=w||0;return v?new Date(Date.UTC(R,G,M,K,B,Z,Q+v.offset*60*1e3)):n?new Date(Date.UTC(R,G,M,K,B,Z,Q)):new Date(R,G,M,K,B,Z,Q)}catch{return new Date("")}};const $a=function(e,t,r){r.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(Mr=e.parseTwoDigitYear);var n=t.prototype,a=n.parse;n.parse=function(i){var s=i.date,m=i.utc,p=i.args;this.$u=m;var k=p[1];if(typeof k=="string"){var y=p[2]===!0,_=p[3]===!0,w=y||_,v=p[2];_&&(v=p[2]),be=this.$locale(),!y&&v&&(be=r.Ls[v]),this.$d=Ja(s,k,m),this.init(),v&&v!==!0&&(this.$L=this.locale(v).$L),w&&s!=this.format(k)&&(this.$d=new Date("")),be={}}else if(k instanceof Array)for(var W=k.length,M=1;M<=W;M+=1){p[1]=k[M-1];var R=r.apply(this,p);if(R.isValid()){this.$d=R.$d,this.$L=R.$L,this.init();break}M===W&&(this.$d=new Date(""))}else a.call(this,i)}},Ka=function(e,t){var r=t.prototype,n=r.format;r.format=function(a){var i=this,s=this.$locale();if(!this.isValid())return n.bind(this)(a);var m=this.$utils(),p=a||La,k=p.replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(y){switch(y){case"Q":return Math.ceil((i.$M+1)/3);case"Do":return s.ordinal(i.$D);case"gggg":return i.weekYear();case"GGGG":return i.isoWeekYear();case"wo":return s.ordinal(i.week(),"W");case"w":case"ww":return m.s(i.week(),y==="w"?1:2,"0");case"W":case"WW":return m.s(i.isoWeek(),y==="W"?1:2,"0");case"k":case"kk":return m.s(String(i.$H===0?24:i.$H),y==="k"?1:2,"0");case"X":return Math.floor(i.$d.getTime()/1e3);case"x":return i.$d.getTime();case"z":return"["+i.offsetName()+"]";case"zzz":return"["+i.offsetName("long")+"]";default:return y}});return n.bind(this)(k)}};var wt=function(){var e=f(function(A,u,d,b){for(d=d||{},b=A.length;b--;d[A[b]]=u);return d},"o"),t=[6,8,10,12,13,14,15,16,17,18,20,21,22,23,24,25,26,27,28,29,30,31,33,35,36,38,40],r=[1,26],n=[1,27],a=[1,28],i=[1,29],s=[1,30],m=[1,31],p=[1,32],k=[1,33],y=[1,34],_=[1,9],w=[1,10],v=[1,11],W=[1,12],M=[1,13],R=[1,14],G=[1,15],K=[1,16],B=[1,19],Z=[1,20],Q=[1,21],D=[1,22],N=[1,23],C=[1,25],U=[1,35],S={trace:f(function(){},"trace"),yy:{},symbols_:{error:2,start:3,gantt:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NL:10,weekday:11,weekday_monday:12,weekday_tuesday:13,weekday_wednesday:14,weekday_thursday:15,weekday_friday:16,weekday_saturday:17,weekday_sunday:18,weekend:19,weekend_friday:20,weekend_saturday:21,dateFormat:22,inclusiveEndDates:23,topAxis:24,axisFormat:25,tickInterval:26,excludes:27,includes:28,todayMarker:29,title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,section:36,clickStatement:37,taskTxt:38,taskData:39,click:40,callbackname:41,callbackargs:42,href:43,clickStatementDebug:44,$accept:0,$end:1},terminals_:{2:"error",4:"gantt",6:"EOF",8:"SPACE",10:"NL",12:"weekday_monday",13:"weekday_tuesday",14:"weekday_wednesday",15:"weekday_thursday",16:"weekday_friday",17:"weekday_saturday",18:"weekday_sunday",20:"weekend_friday",21:"weekend_saturday",22:"dateFormat",23:"inclusiveEndDates",24:"topAxis",25:"axisFormat",26:"tickInterval",27:"excludes",28:"includes",29:"todayMarker",30:"title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"section",38:"taskTxt",39:"taskData",40:"click",41:"callbackname",42:"callbackargs",43:"href"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[19,1],[19,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,2],[37,2],[37,3],[37,3],[37,4],[37,3],[37,4],[37,2],[44,2],[44,3],[44,3],[44,4],[44,3],[44,4],[44,2]],performAction:f(function(u,d,b,g,E,c,h){var o=c.length-1;switch(E){case 1:return c[o-1];case 2:this.$=[];break;case 3:c[o-1].push(c[o]),this.$=c[o-1];break;case 4:case 5:this.$=c[o];break;case 6:case 7:this.$=[];break;case 8:g.setWeekday("monday");break;case 9:g.setWeekday("tuesday");break;case 10:g.setWeekday("wednesday");break;case 11:g.setWeekday("thursday");break;case 12:g.setWeekday("friday");break;case 13:g.setWeekday("saturday");break;case 14:g.setWeekday("sunday");break;case 15:g.setWeekend("friday");break;case 16:g.setWeekend("saturday");break;case 17:g.setDateFormat(c[o].substr(11)),this.$=c[o].substr(11);break;case 18:g.enableInclusiveEndDates(),this.$=c[o].substr(18);break;case 19:g.TopAxis(),this.$=c[o].substr(8);break;case 20:g.setAxisFormat(c[o].substr(11)),this.$=c[o].substr(11);break;case 21:g.setTickInterval(c[o].substr(13)),this.$=c[o].substr(13);break;case 22:g.setExcludes(c[o].substr(9)),this.$=c[o].substr(9);break;case 23:g.setIncludes(c[o].substr(9)),this.$=c[o].substr(9);break;case 24:g.setTodayMarker(c[o].substr(12)),this.$=c[o].substr(12);break;case 27:g.setDiagramTitle(c[o].substr(6)),this.$=c[o].substr(6);break;case 28:this.$=c[o].trim(),g.setAccTitle(this.$);break;case 29:case 30:this.$=c[o].trim(),g.setAccDescription(this.$);break;case 31:g.addSection(c[o].substr(8)),this.$=c[o].substr(8);break;case 33:g.addTask(c[o-1],c[o]),this.$="task";break;case 34:this.$=c[o-1],g.setClickEvent(c[o-1],c[o],null);break;case 35:this.$=c[o-2],g.setClickEvent(c[o-2],c[o-1],c[o]);break;case 36:this.$=c[o-2],g.setClickEvent(c[o-2],c[o-1],null),g.setLink(c[o-2],c[o]);break;case 37:this.$=c[o-3],g.setClickEvent(c[o-3],c[o-2],c[o-1]),g.setLink(c[o-3],c[o]);break;case 38:this.$=c[o-2],g.setClickEvent(c[o-2],c[o],null),g.setLink(c[o-2],c[o-1]);break;case 39:this.$=c[o-3],g.setClickEvent(c[o-3],c[o-1],c[o]),g.setLink(c[o-3],c[o-2]);break;case 40:this.$=c[o-1],g.setLink(c[o-1],c[o]);break;case 41:case 47:this.$=c[o-1]+" "+c[o];break;case 42:case 43:case 45:this.$=c[o-2]+" "+c[o-1]+" "+c[o];break;case 44:case 46:this.$=c[o-3]+" "+c[o-2]+" "+c[o-1]+" "+c[o];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:17,12:r,13:n,14:a,15:i,16:s,17:m,18:p,19:18,20:k,21:y,22:_,23:w,24:v,25:W,26:M,27:R,28:G,29:K,30:B,31:Z,33:Q,35:D,36:N,37:24,38:C,40:U},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:36,11:17,12:r,13:n,14:a,15:i,16:s,17:m,18:p,19:18,20:k,21:y,22:_,23:w,24:v,25:W,26:M,27:R,28:G,29:K,30:B,31:Z,33:Q,35:D,36:N,37:24,38:C,40:U},e(t,[2,5]),e(t,[2,6]),e(t,[2,17]),e(t,[2,18]),e(t,[2,19]),e(t,[2,20]),e(t,[2,21]),e(t,[2,22]),e(t,[2,23]),e(t,[2,24]),e(t,[2,25]),e(t,[2,26]),e(t,[2,27]),{32:[1,37]},{34:[1,38]},e(t,[2,30]),e(t,[2,31]),e(t,[2,32]),{39:[1,39]},e(t,[2,8]),e(t,[2,9]),e(t,[2,10]),e(t,[2,11]),e(t,[2,12]),e(t,[2,13]),e(t,[2,14]),e(t,[2,15]),e(t,[2,16]),{41:[1,40],43:[1,41]},e(t,[2,4]),e(t,[2,28]),e(t,[2,29]),e(t,[2,33]),e(t,[2,34],{42:[1,42],43:[1,43]}),e(t,[2,40],{41:[1,44]}),e(t,[2,35],{43:[1,45]}),e(t,[2,36]),e(t,[2,38],{42:[1,46]}),e(t,[2,37]),e(t,[2,39])],defaultActions:{},parseError:f(function(u,d){if(d.recoverable)this.trace(u);else{var b=new Error(u);throw b.hash=d,b}},"parseError"),parse:f(function(u){var d=this,b=[0],g=[],E=[null],c=[],h=this.table,o="",P=0,O=0,V=2,ee=1,q=c.slice.call(arguments,1),X=Object.create(this.lexer),oe={yy:{}};for(var T in this.yy)Object.prototype.hasOwnProperty.call(this.yy,T)&&(oe.yy[T]=this.yy[T]);X.setInput(u,oe.yy),oe.yy.lexer=X,oe.yy.parser=this,typeof X.yylloc>"u"&&(X.yylloc={});var I=X.yylloc;c.push(I);var L=X.options&&X.options.ranges;typeof oe.yy.parseError=="function"?this.parseError=oe.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function l(ie){b.length=b.length-2*ie,E.length=E.length-ie,c.length=c.length-ie}f(l,"popStack");function re(){var ie;return ie=g.pop()||X.lex()||ee,typeof ie!="number"&&(ie instanceof Array&&(g=ie,ie=g.pop()),ie=d.symbols_[ie]||ie),ie}f(re,"lex");for(var F,j,z,ce,he={},Xe,de,Nt,Ge;;){if(j=b[b.length-1],this.defaultActions[j]?z=this.defaultActions[j]:((F===null||typeof F>"u")&&(F=re()),z=h[j]&&h[j][F]),typeof z>"u"||!z.length||!z[0]){var ot="";Ge=[];for(Xe in h[j])this.terminals_[Xe]&&Xe>V&&Ge.push("'"+this.terminals_[Xe]+"'");X.showPosition?ot="Parse error on line "+(P+1)+`:
`+X.showPosition()+`
Expecting `+Ge.join(", ")+", got '"+(this.terminals_[F]||F)+"'":ot="Parse error on line "+(P+1)+": Unexpected "+(F==ee?"end of input":"'"+(this.terminals_[F]||F)+"'"),this.parseError(ot,{text:X.match,token:this.terminals_[F]||F,line:X.yylineno,loc:I,expected:Ge})}if(z[0]instanceof Array&&z.length>1)throw new Error("Parse Error: multiple actions possible at state: "+j+", token: "+F);switch(z[0]){case 1:b.push(F),E.push(X.yytext),c.push(X.yylloc),b.push(z[1]),F=null,O=X.yyleng,o=X.yytext,P=X.yylineno,I=X.yylloc;break;case 2:if(de=this.productions_[z[1]][1],he.$=E[E.length-de],he._$={first_line:c[c.length-(de||1)].first_line,last_line:c[c.length-1].last_line,first_column:c[c.length-(de||1)].first_column,last_column:c[c.length-1].last_column},L&&(he._$.range=[c[c.length-(de||1)].range[0],c[c.length-1].range[1]]),ce=this.performAction.apply(he,[o,O,P,oe.yy,z[1],E,c].concat(q)),typeof ce<"u")return ce;de&&(b=b.slice(0,-1*de*2),E=E.slice(0,-1*de),c=c.slice(0,-1*de)),b.push(this.productions_[z[1]][0]),E.push(he.$),c.push(he._$),Nt=h[b[b.length-2]][b[b.length-1]],b.push(Nt);break;case 3:return!0}}return!0},"parse")},Y=function(){var A={EOF:1,parseError:f(function(d,b){if(this.yy.parser)this.yy.parser.parseError(d,b);else throw new Error(d)},"parseError"),setInput:f(function(u,d){return this.yy=d||this.yy||{},this._input=u,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:f(function(){var u=this._input[0];this.yytext+=u,this.yyleng++,this.offset++,this.match+=u,this.matched+=u;var d=u.match(/(?:\r\n?|\n).*/g);return d?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),u},"input"),unput:f(function(u){var d=u.length,b=u.split(/(?:\r\n?|\n)/g);this._input=u+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-d),this.offset-=d;var g=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),b.length-1&&(this.yylineno-=b.length-1);var E=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:b?(b.length===g.length?this.yylloc.first_column:0)+g[g.length-b.length].length-b[0].length:this.yylloc.first_column-d},this.options.ranges&&(this.yylloc.range=[E[0],E[0]+this.yyleng-d]),this.yyleng=this.yytext.length,this},"unput"),more:f(function(){return this._more=!0,this},"more"),reject:f(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:f(function(u){this.unput(this.match.slice(u))},"less"),pastInput:f(function(){var u=this.matched.substr(0,this.matched.length-this.match.length);return(u.length>20?"...":"")+u.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:f(function(){var u=this.match;return u.length<20&&(u+=this._input.substr(0,20-u.length)),(u.substr(0,20)+(u.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:f(function(){var u=this.pastInput(),d=new Array(u.length+1).join("-");return u+this.upcomingInput()+`
`+d+"^"},"showPosition"),test_match:f(function(u,d){var b,g,E;if(this.options.backtrack_lexer&&(E={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(E.yylloc.range=this.yylloc.range.slice(0))),g=u[0].match(/(?:\r\n?|\n).*/g),g&&(this.yylineno+=g.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:g?g[g.length-1].length-g[g.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+u[0].length},this.yytext+=u[0],this.match+=u[0],this.matches=u,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(u[0].length),this.matched+=u[0],b=this.performAction.call(this,this.yy,this,d,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),b)return b;if(this._backtrack){for(var c in E)this[c]=E[c];return!1}return!1},"test_match"),next:f(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var u,d,b,g;this._more||(this.yytext="",this.match="");for(var E=this._currentRules(),c=0;c<E.length;c++)if(b=this._input.match(this.rules[E[c]]),b&&(!d||b[0].length>d[0].length)){if(d=b,g=c,this.options.backtrack_lexer){if(u=this.test_match(b,E[c]),u!==!1)return u;if(this._backtrack){d=!1;continue}else return!1}else if(!this.options.flex)break}return d?(u=this.test_match(d,E[g]),u!==!1?u:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:f(function(){var d=this.next();return d||this.lex()},"lex"),begin:f(function(d){this.conditionStack.push(d)},"begin"),popState:f(function(){var d=this.conditionStack.length-1;return d>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:f(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:f(function(d){return d=this.conditionStack.length-1-Math.abs(d||0),d>=0?this.conditionStack[d]:"INITIAL"},"topState"),pushState:f(function(d){this.begin(d)},"pushState"),stateStackSize:f(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:f(function(d,b,g,E){switch(g){case 0:return this.begin("open_directive"),"open_directive";case 1:return this.begin("acc_title"),31;case 2:return this.popState(),"acc_title_value";case 3:return this.begin("acc_descr"),33;case 4:return this.popState(),"acc_descr_value";case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:break;case 9:break;case 10:break;case 11:return 10;case 12:break;case 13:break;case 14:this.begin("href");break;case 15:this.popState();break;case 16:return 43;case 17:this.begin("callbackname");break;case 18:this.popState();break;case 19:this.popState(),this.begin("callbackargs");break;case 20:return 41;case 21:this.popState();break;case 22:return 42;case 23:this.begin("click");break;case 24:this.popState();break;case 25:return 40;case 26:return 4;case 27:return 22;case 28:return 23;case 29:return 24;case 30:return 25;case 31:return 26;case 32:return 28;case 33:return 27;case 34:return 29;case 35:return 12;case 36:return 13;case 37:return 14;case 38:return 15;case 39:return 16;case 40:return 17;case 41:return 18;case 42:return 20;case 43:return 21;case 44:return"date";case 45:return 30;case 46:return"accDescription";case 47:return 36;case 48:return 38;case 49:return 39;case 50:return":";case 51:return 6;case 52:return"INVALID"}},"anonymous"),rules:[/^(?:%%\{)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:weekday\s+monday\b)/i,/^(?:weekday\s+tuesday\b)/i,/^(?:weekday\s+wednesday\b)/i,/^(?:weekday\s+thursday\b)/i,/^(?:weekday\s+friday\b)/i,/^(?:weekday\s+saturday\b)/i,/^(?:weekday\s+sunday\b)/i,/^(?:weekend\s+friday\b)/i,/^(?:weekend\s+saturday\b)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^\n]+)/i,/^(?:[^:\n]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[6,7],inclusive:!1},acc_descr:{rules:[4],inclusive:!1},acc_title:{rules:[2],inclusive:!1},callbackargs:{rules:[21,22],inclusive:!1},callbackname:{rules:[18,19,20],inclusive:!1},href:{rules:[15,16],inclusive:!1},click:{rules:[24,25],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,17,23,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52],inclusive:!0}}};return A}();S.lexer=Y;function x(){this.yy={}}return f(x,"Parser"),x.prototype=S,S.Parser=x,new x}();wt.parser=wt;var ei=wt;ne.extend(Oa);ne.extend($a);ne.extend(Ka);var tr={friday:5,saturday:6},ue="",Yt="",Ft=void 0,Ut="",Be=[],Ze=[],Et=new Map,It=[],it=[],Ae="",At="",_r=["active","done","crit","milestone"],Lt=[],qe=!1,Wt=!1,Ot="sunday",st="saturday",Dt=0,ti=f(function(){It=[],it=[],Ae="",Lt=[],Ke=0,Mt=void 0,et=void 0,J=[],ue="",Yt="",At="",Ft=void 0,Ut="",Be=[],Ze=[],qe=!1,Wt=!1,Dt=0,Et=new Map,Rr(),Ot="sunday",st="saturday"},"clear"),ri=f(function(e){Yt=e},"setAxisFormat"),ni=f(function(){return Yt},"getAxisFormat"),ai=f(function(e){Ft=e},"setTickInterval"),ii=f(function(){return Ft},"getTickInterval"),si=f(function(e){Ut=e},"setTodayMarker"),oi=f(function(){return Ut},"getTodayMarker"),ci=f(function(e){ue=e},"setDateFormat"),li=f(function(){qe=!0},"enableInclusiveEndDates"),ui=f(function(){return qe},"endDatesAreInclusive"),fi=f(function(){Wt=!0},"enableTopAxis"),hi=f(function(){return Wt},"topAxisEnabled"),di=f(function(e){At=e},"setDisplayMode"),mi=f(function(){return At},"getDisplayMode"),gi=f(function(){return ue},"getDateFormat"),yi=f(function(e){Be=e.toLowerCase().split(/[\s,]+/)},"setIncludes"),ki=f(function(){return Be},"getIncludes"),vi=f(function(e){Ze=e.toLowerCase().split(/[\s,]+/)},"setExcludes"),pi=f(function(){return Ze},"getExcludes"),Ti=f(function(){return Et},"getLinks"),bi=f(function(e){Ae=e,It.push(e)},"addSection"),xi=f(function(){return It},"getSections"),wi=f(function(){let e=rr();const t=10;let r=0;for(;!e&&r<t;)e=rr(),r++;return it=J,it},"getTasks"),Sr=f(function(e,t,r,n){return n.includes(e.format(t.trim()))?!1:r.includes("weekends")&&(e.isoWeekday()===tr[st]||e.isoWeekday()===tr[st]+1)||r.includes(e.format("dddd").toLowerCase())?!0:r.includes(e.format(t.trim()))},"isInvalidDate"),Di=f(function(e){Ot=e},"setWeekday"),Ci=f(function(){return Ot},"getWeekday"),Mi=f(function(e){st=e},"setWeekend"),Yr=f(function(e,t,r,n){if(!r.length||e.manualEndTime)return;let a;e.startTime instanceof Date?a=ne(e.startTime):a=ne(e.startTime,t,!0),a=a.add(1,"d");let i;e.endTime instanceof Date?i=ne(e.endTime):i=ne(e.endTime,t,!0);const[s,m]=_i(a,i,t,r,n);e.endTime=s.toDate(),e.renderEndTime=m},"checkTaskDates"),_i=f(function(e,t,r,n,a){let i=!1,s=null;for(;e<=t;)i||(s=t.toDate()),i=Sr(e,r,n,a),i&&(t=t.add(1,"d")),e=e.add(1,"d");return[t,s]},"fixTaskDates"),Ct=f(function(e,t,r){r=r.trim();const a=/^after\s+(?<ids>[\d\w- ]+)/.exec(r);if(a!==null){let s=null;for(const p of a.groups.ids.split(" ")){let k=_e(p);k!==void 0&&(!s||k.endTime>s.endTime)&&(s=k)}if(s)return s.endTime;const m=new Date;return m.setHours(0,0,0,0),m}let i=ne(r,t.trim(),!0);if(i.isValid())return i.toDate();{tt.debug("Invalid date:"+r),tt.debug("With date format:"+t.trim());const s=new Date(r);if(s===void 0||isNaN(s.getTime())||s.getFullYear()<-1e4||s.getFullYear()>1e4)throw new Error("Invalid date:"+r);return s}},"getStartDate"),Fr=f(function(e){const t=/^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(e.trim());return t!==null?[Number.parseFloat(t[1]),t[2]]:[NaN,"ms"]},"parseDuration"),Ur=f(function(e,t,r,n=!1){r=r.trim();const i=/^until\s+(?<ids>[\d\w- ]+)/.exec(r);if(i!==null){let y=null;for(const w of i.groups.ids.split(" ")){let v=_e(w);v!==void 0&&(!y||v.startTime<y.startTime)&&(y=v)}if(y)return y.startTime;const _=new Date;return _.setHours(0,0,0,0),_}let s=ne(r,t.trim(),!0);if(s.isValid())return n&&(s=s.add(1,"d")),s.toDate();let m=ne(e);const[p,k]=Fr(r);if(!Number.isNaN(p)){const y=m.add(p,k);y.isValid()&&(m=y)}return m.toDate()},"getEndDate"),Ke=0,Ue=f(function(e){return e===void 0?(Ke=Ke+1,"task"+Ke):e},"parseId"),Si=f(function(e,t){let r;t.substr(0,1)===":"?r=t.substr(1,t.length):r=t;const n=r.split(","),a={};Ht(n,a,_r);for(let s=0;s<n.length;s++)n[s]=n[s].trim();let i="";switch(n.length){case 1:a.id=Ue(),a.startTime=e.endTime,i=n[0];break;case 2:a.id=Ue(),a.startTime=Ct(void 0,ue,n[0]),i=n[1];break;case 3:a.id=Ue(n[0]),a.startTime=Ct(void 0,ue,n[1]),i=n[2];break}return i&&(a.endTime=Ur(a.startTime,ue,i,qe),a.manualEndTime=ne(i,"YYYY-MM-DD",!0).isValid(),Yr(a,ue,Ze,Be)),a},"compileData"),Yi=f(function(e,t){let r;t.substr(0,1)===":"?r=t.substr(1,t.length):r=t;const n=r.split(","),a={};Ht(n,a,_r);for(let i=0;i<n.length;i++)n[i]=n[i].trim();switch(n.length){case 1:a.id=Ue(),a.startTime={type:"prevTaskEnd",id:e},a.endTime={data:n[0]};break;case 2:a.id=Ue(),a.startTime={type:"getStartDate",startData:n[0]},a.endTime={data:n[1]};break;case 3:a.id=Ue(n[0]),a.startTime={type:"getStartDate",startData:n[1]},a.endTime={data:n[2]};break}return a},"parseData"),Mt,et,J=[],Er={},Fi=f(function(e,t){const r={section:Ae,type:Ae,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:t},task:e,classes:[]},n=Yi(et,t);r.raw.startTime=n.startTime,r.raw.endTime=n.endTime,r.id=n.id,r.prevTaskId=et,r.active=n.active,r.done=n.done,r.crit=n.crit,r.milestone=n.milestone,r.order=Dt,Dt++;const a=J.push(r);et=r.id,Er[r.id]=a-1},"addTask"),_e=f(function(e){const t=Er[e];return J[t]},"findTaskById"),Ui=f(function(e,t){const r={section:Ae,type:Ae,description:e,task:e,classes:[]},n=Si(Mt,t);r.startTime=n.startTime,r.endTime=n.endTime,r.id=n.id,r.active=n.active,r.done=n.done,r.crit=n.crit,r.milestone=n.milestone,Mt=r,it.push(r)},"addTaskOrg"),rr=f(function(){const e=f(function(r){const n=J[r];let a="";switch(J[r].raw.startTime.type){case"prevTaskEnd":{const i=_e(n.prevTaskId);n.startTime=i.endTime;break}case"getStartDate":a=Ct(void 0,ue,J[r].raw.startTime.startData),a&&(J[r].startTime=a);break}return J[r].startTime&&(J[r].endTime=Ur(J[r].startTime,ue,J[r].raw.endTime.data,qe),J[r].endTime&&(J[r].processed=!0,J[r].manualEndTime=ne(J[r].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),Yr(J[r],ue,Ze,Be))),J[r].processed},"compileTask");let t=!0;for(const[r,n]of J.entries())e(r),t=t&&n.processed;return t},"compileTasks"),Ei=f(function(e,t){let r=t;Ye().securityLevel!=="loose"&&(r=Br(t)),e.split(",").forEach(function(n){_e(n)!==void 0&&(Ar(n,()=>{window.open(r,"_self")}),Et.set(n,r))}),Ir(e,"clickable")},"setLink"),Ir=f(function(e,t){e.split(",").forEach(function(r){let n=_e(r);n!==void 0&&n.classes.push(t)})},"setClass"),Ii=f(function(e,t,r){if(Ye().securityLevel!=="loose"||t===void 0)return;let n=[];if(typeof r=="string"){n=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let i=0;i<n.length;i++){let s=n[i].trim();s.startsWith('"')&&s.endsWith('"')&&(s=s.substr(1,s.length-2)),n[i]=s}}n.length===0&&n.push(e),_e(e)!==void 0&&Ar(e,()=>{Xr.runFunc(t,...n)})},"setClickFun"),Ar=f(function(e,t){Lt.push(function(){const r=document.querySelector(`[id="${e}"]`);r!==null&&r.addEventListener("click",function(){t()})},function(){const r=document.querySelector(`[id="${e}-text"]`);r!==null&&r.addEventListener("click",function(){t()})})},"pushFun"),Ai=f(function(e,t,r){e.split(",").forEach(function(n){Ii(n,t,r)}),Ir(e,"clickable")},"setClickEvent"),Li=f(function(e){Lt.forEach(function(t){t(e)})},"bindFunctions"),Wi={getConfig:f(()=>Ye().gantt,"getConfig"),clear:ti,setDateFormat:ci,getDateFormat:gi,enableInclusiveEndDates:li,endDatesAreInclusive:ui,enableTopAxis:fi,topAxisEnabled:hi,setAxisFormat:ri,getAxisFormat:ni,setTickInterval:ai,getTickInterval:ii,setTodayMarker:si,getTodayMarker:oi,setAccTitle:Or,getAccTitle:Hr,setDiagramTitle:Nr,getDiagramTitle:Vr,setDisplayMode:di,getDisplayMode:mi,setAccDescription:Pr,getAccDescription:zr,addSection:bi,getSections:xi,getTasks:wi,addTask:Fi,findTaskById:_e,addTaskOrg:Ui,setIncludes:yi,getIncludes:ki,setExcludes:vi,getExcludes:pi,setClickEvent:Ai,setLink:Ei,getLinks:Ti,bindFunctions:Li,parseDuration:Fr,isInvalidDate:Sr,setWeekday:Di,getWeekday:Ci,setWeekend:Mi};function Ht(e,t,r){let n=!0;for(;n;)n=!1,r.forEach(function(a){const i="^\\s*"+a+"\\s*$",s=new RegExp(i);e[0].match(s)&&(t[a]=!0,e.shift(1),n=!0)})}f(Ht,"getTaskTags");var Oi=f(function(){tt.debug("Something is calling, setConf, remove the call")},"setConf"),nr={monday:Pe,tuesday:yr,wednesday:kr,thursday:we,friday:vr,saturday:pr,sunday:Re},Hi=f((e,t)=>{let r=[...e].map(()=>-1/0),n=[...e].sort((i,s)=>i.startTime-s.startTime||i.order-s.order),a=0;for(const i of n)for(let s=0;s<r.length;s++)if(i.startTime>=r[s]){r[s]=i.endTime,i.order=s+t,s>a&&(a=s);break}return a},"getMaxIntersections"),me,Ni=f(function(e,t,r,n){const a=Ye().gantt,i=Ye().securityLevel;let s;i==="sandbox"&&(s=je("#i"+t));const m=i==="sandbox"?je(s.nodes()[0].contentDocument.body):je("body"),p=i==="sandbox"?s.nodes()[0].contentDocument:document,k=p.getElementById(t);me=k.parentElement.offsetWidth,me===void 0&&(me=1200),a.useWidth!==void 0&&(me=a.useWidth);const y=n.db.getTasks();let _=[];for(const C of y)_.push(C.type);_=N(_);const w={};let v=2*a.topPadding;if(n.db.getDisplayMode()==="compact"||a.displayMode==="compact"){const C={};for(const S of y)C[S.section]===void 0?C[S.section]=[S]:C[S.section].push(S);let U=0;for(const S of Object.keys(C)){const Y=Hi(C[S],U)+1;U+=Y,v+=Y*(a.barHeight+a.barGap),w[S]=Y}}else{v+=y.length*(a.barHeight+a.barGap);for(const C of _)w[C]=y.filter(U=>U.type===C).length}k.setAttribute("viewBox","0 0 "+me+" "+v);const W=m.select(`[id="${t}"]`),M=Ea().domain([en(y,function(C){return C.startTime}),Kr(y,function(C){return C.endTime})]).rangeRound([0,me-a.leftPadding-a.rightPadding]);function R(C,U){const S=C.startTime,Y=U.startTime;let x=0;return S>Y?x=1:S<Y&&(x=-1),x}f(R,"taskCompare"),y.sort(R),G(y,me,v),Zr(W,v,me,a.useMaxWidth),W.append("text").text(n.db.getDiagramTitle()).attr("x",me/2).attr("y",a.titleTopMargin).attr("class","titleText");function G(C,U,S){const Y=a.barHeight,x=Y+a.barGap,A=a.topPadding,u=a.leftPadding,d=Jr().domain([0,_.length]).range(["#00B9FA","#F95002"]).interpolate(yn);B(x,A,u,U,S,C,n.db.getExcludes(),n.db.getIncludes()),Z(u,A,U,S),K(C,x,A,u,Y,d,U),Q(x,A),D(u,A,U,S)}f(G,"makeGantt");function K(C,U,S,Y,x,A,u){const b=[...new Set(C.map(h=>h.order))].map(h=>C.find(o=>o.order===h));W.append("g").selectAll("rect").data(b).enter().append("rect").attr("x",0).attr("y",function(h,o){return o=h.order,o*U+S-2}).attr("width",function(){return u-a.rightPadding/2}).attr("height",U).attr("class",function(h){for(const[o,P]of _.entries())if(h.type===P)return"section section"+o%a.numberSectionStyles;return"section section0"});const g=W.append("g").selectAll("rect").data(C).enter(),E=n.db.getLinks();if(g.append("rect").attr("id",function(h){return h.id}).attr("rx",3).attr("ry",3).attr("x",function(h){return h.milestone?M(h.startTime)+Y+.5*(M(h.endTime)-M(h.startTime))-.5*x:M(h.startTime)+Y}).attr("y",function(h,o){return o=h.order,o*U+S}).attr("width",function(h){return h.milestone?x:M(h.renderEndTime||h.endTime)-M(h.startTime)}).attr("height",x).attr("transform-origin",function(h,o){return o=h.order,(M(h.startTime)+Y+.5*(M(h.endTime)-M(h.startTime))).toString()+"px "+(o*U+S+.5*x).toString()+"px"}).attr("class",function(h){const o="task";let P="";h.classes.length>0&&(P=h.classes.join(" "));let O=0;for(const[ee,q]of _.entries())h.type===q&&(O=ee%a.numberSectionStyles);let V="";return h.active?h.crit?V+=" activeCrit":V=" active":h.done?h.crit?V=" doneCrit":V=" done":h.crit&&(V+=" crit"),V.length===0&&(V=" task"),h.milestone&&(V=" milestone "+V),V+=O,V+=" "+P,o+V}),g.append("text").attr("id",function(h){return h.id+"-text"}).text(function(h){return h.task}).attr("font-size",a.fontSize).attr("x",function(h){let o=M(h.startTime),P=M(h.renderEndTime||h.endTime);h.milestone&&(o+=.5*(M(h.endTime)-M(h.startTime))-.5*x),h.milestone&&(P=o+x);const O=this.getBBox().width;return O>P-o?P+O+1.5*a.leftPadding>u?o+Y-5:P+Y+5:(P-o)/2+o+Y}).attr("y",function(h,o){return o=h.order,o*U+a.barHeight/2+(a.fontSize/2-2)+S}).attr("text-height",x).attr("class",function(h){const o=M(h.startTime);let P=M(h.endTime);h.milestone&&(P=o+x);const O=this.getBBox().width;let V="";h.classes.length>0&&(V=h.classes.join(" "));let ee=0;for(const[X,oe]of _.entries())h.type===oe&&(ee=X%a.numberSectionStyles);let q="";return h.active&&(h.crit?q="activeCritText"+ee:q="activeText"+ee),h.done?h.crit?q=q+" doneCritText"+ee:q=q+" doneText"+ee:h.crit&&(q=q+" critText"+ee),h.milestone&&(q+=" milestoneText"),O>P-o?P+O+1.5*a.leftPadding>u?V+" taskTextOutsideLeft taskTextOutside"+ee+" "+q:V+" taskTextOutsideRight taskTextOutside"+ee+" "+q+" width-"+O:V+" taskText taskText"+ee+" "+q+" width-"+O}),Ye().securityLevel==="sandbox"){let h;h=je("#i"+t);const o=h.nodes()[0].contentDocument;g.filter(function(P){return E.has(P.id)}).each(function(P){var O=o.querySelector("#"+P.id),V=o.querySelector("#"+P.id+"-text");const ee=O.parentNode;var q=o.createElement("a");q.setAttribute("xlink:href",E.get(P.id)),q.setAttribute("target","_top"),ee.appendChild(q),q.appendChild(O),q.appendChild(V)})}}f(K,"drawRects");function B(C,U,S,Y,x,A,u,d){if(u.length===0&&d.length===0)return;let b,g;for(const{startTime:O,endTime:V}of A)(b===void 0||O<b)&&(b=O),(g===void 0||V>g)&&(g=V);if(!b||!g)return;if(ne(g).diff(ne(b),"year")>5){tt.warn("The difference between the min and max time is more than 5 years. This will cause performance issues. Skipping drawing exclude days.");return}const E=n.db.getDateFormat(),c=[];let h=null,o=ne(b);for(;o.valueOf()<=g;)n.db.isInvalidDate(o,E,u,d)?h?h.end=o:h={start:o,end:o}:h&&(c.push(h),h=null),o=o.add(1,"d");W.append("g").selectAll("rect").data(c).enter().append("rect").attr("id",function(O){return"exclude-"+O.start.format("YYYY-MM-DD")}).attr("x",function(O){return M(O.start)+S}).attr("y",a.gridLineStartPadding).attr("width",function(O){const V=O.end.add(1,"day");return M(V)-M(O.start)}).attr("height",x-U-a.gridLineStartPadding).attr("transform-origin",function(O,V){return(M(O.start)+S+.5*(M(O.end)-M(O.start))).toString()+"px "+(V*C+.5*x).toString()+"px"}).attr("class","exclude-range")}f(B,"drawExcludeDays");function Z(C,U,S,Y){let x=ln(M).tickSize(-Y+U+a.gridLineStartPadding).tickFormat(at(n.db.getAxisFormat()||a.axisFormat||"%Y-%m-%d"));const u=/^([1-9]\d*)(millisecond|second|minute|hour|day|week|month)$/.exec(n.db.getTickInterval()||a.tickInterval);if(u!==null){const d=u[1],b=u[2],g=n.db.getWeekday()||a.weekday;switch(b){case"millisecond":x.ticks(Ee.every(d));break;case"second":x.ticks(Te.every(d));break;case"minute":x.ticks(Ne.every(d));break;case"hour":x.ticks(Ve.every(d));break;case"day":x.ticks(xe.every(d));break;case"week":x.ticks(nr[g].every(d));break;case"month":x.ticks(ze.every(d));break}}if(W.append("g").attr("class","grid").attr("transform","translate("+C+", "+(Y-50)+")").call(x).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),n.db.topAxisEnabled()||a.topAxis){let d=cn(M).tickSize(-Y+U+a.gridLineStartPadding).tickFormat(at(n.db.getAxisFormat()||a.axisFormat||"%Y-%m-%d"));if(u!==null){const b=u[1],g=u[2],E=n.db.getWeekday()||a.weekday;switch(g){case"millisecond":d.ticks(Ee.every(b));break;case"second":d.ticks(Te.every(b));break;case"minute":d.ticks(Ne.every(b));break;case"hour":d.ticks(Ve.every(b));break;case"day":d.ticks(xe.every(b));break;case"week":d.ticks(nr[E].every(b));break;case"month":d.ticks(ze.every(b));break}}W.append("g").attr("class","grid").attr("transform","translate("+C+", "+U+")").call(d).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}f(Z,"makeGrid");function Q(C,U){let S=0;const Y=Object.keys(w).map(x=>[x,w[x]]);W.append("g").selectAll("text").data(Y).enter().append(function(x){const A=x[0].split(qr.lineBreakRegex),u=-(A.length-1)/2,d=p.createElementNS("http://www.w3.org/2000/svg","text");d.setAttribute("dy",u+"em");for(const[b,g]of A.entries()){const E=p.createElementNS("http://www.w3.org/2000/svg","tspan");E.setAttribute("alignment-baseline","central"),E.setAttribute("x","10"),b>0&&E.setAttribute("dy","1em"),E.textContent=g,d.appendChild(E)}return d}).attr("x",10).attr("y",function(x,A){if(A>0)for(let u=0;u<A;u++)return S+=Y[A-1][1],x[1]*C/2+S*C+U;else return x[1]*C/2+U}).attr("font-size",a.sectionFontSize).attr("class",function(x){for(const[A,u]of _.entries())if(x[0]===u)return"sectionTitle sectionTitle"+A%a.numberSectionStyles;return"sectionTitle"})}f(Q,"vertLabels");function D(C,U,S,Y){const x=n.db.getTodayMarker();if(x==="off")return;const A=W.append("g").attr("class","today"),u=new Date,d=A.append("line");d.attr("x1",M(u)+C).attr("x2",M(u)+C).attr("y1",a.titleTopMargin).attr("y2",Y-a.titleTopMargin).attr("class","today"),x!==""&&d.attr("style",x.replace(/,/g,";"))}f(D,"drawToday");function N(C){const U={},S=[];for(let Y=0,x=C.length;Y<x;++Y)Object.prototype.hasOwnProperty.call(U,C[Y])||(U[C[Y]]=!0,S.push(C[Y]));return S}f(N,"checkUnique")},"draw"),Vi={setConf:Oi,draw:Ni},Pi=f(e=>`
  .mermaid-main-font {
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .exclude-range {
    fill: ${e.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${e.sectionBkgColor};
  }

  .section2 {
    fill: ${e.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${e.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${e.titleColor};
  }

  .sectionTitle1 {
    fill: ${e.titleColor};
  }

  .sectionTitle2 {
    fill: ${e.titleColor};
  }

  .sectionTitle3 {
    fill: ${e.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${e.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
  }

  .grid .tick text {
    font-family: ${e.fontFamily};
    fill: ${e.textColor};
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${e.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .taskTextOutsideRight {
    fill: ${e.taskTextDarkColor};
    text-anchor: start;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .taskTextOutsideLeft {
    fill: ${e.taskTextDarkColor};
    text-anchor: end;
  }


  /* Special case clickable */

  .task.clickable {
    cursor: pointer;
  }

  .taskText.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }


  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${e.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${e.taskBkgColor};
    stroke: ${e.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${e.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${e.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${e.activeTaskBkgColor};
    stroke: ${e.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${e.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${e.doneTaskBorderColor};
    fill: ${e.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${e.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${e.taskTextDarkColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${e.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.titleColor||e.textColor};
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }
`,"getStyles"),zi=Pi,Gi={parser:ei,db:Wi,renderer:Vi,styles:zi};export{Gi as diagram};
