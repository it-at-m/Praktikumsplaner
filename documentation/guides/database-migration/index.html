<!DOCTYPE html>
<html lang="de-DE">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Database Migration | Praktikumsplaner</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="Documentation of the Praktikumsplaner app">
    <meta name="theme-color" content="#333333">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/Praktikumsplaner/assets/css/0.styles.628b93f1.css" as="style"><link rel="preload" href="/Praktikumsplaner/assets/js/app.c1723936.js" as="script"><link rel="preload" href="/Praktikumsplaner/assets/js/1.1a559e28.js" as="script"><link rel="preload" href="/Praktikumsplaner/assets/js/36.d54ebdd6.js" as="script"><link rel="prefetch" href="/Praktikumsplaner/assets/js/10.cdf41e86.js"><link rel="prefetch" href="/Praktikumsplaner/assets/js/11.add2e03f.js"><link rel="prefetch" href="/Praktikumsplaner/assets/js/12.586f62c5.js"><link rel="prefetch" href="/Praktikumsplaner/assets/js/13.a16db5b3.js"><link rel="prefetch" href="/Praktikumsplaner/assets/js/14.b2b63787.js"><link rel="prefetch" href="/Praktikumsplaner/assets/js/15.301c9850.js"><link rel="prefetch" href="/Praktikumsplaner/assets/js/16.c43912b5.js"><link rel="prefetch" href="/Praktikumsplaner/assets/js/17.88650ce2.js"><link rel="prefetch" href="/Praktikumsplaner/assets/js/18.1e9c8007.js"><link rel="prefetch" href="/Praktikumsplaner/assets/js/19.7493dfa8.js"><link rel="prefetch" href="/Praktikumsplaner/assets/js/2.9a6a1662.js"><link rel="prefetch" href="/Praktikumsplaner/assets/js/20.eb6823f6.js"><link rel="prefetch" href="/Praktikumsplaner/assets/js/21.134c7ed4.js"><link rel="prefetch" href="/Praktikumsplaner/assets/js/22.48b60281.js"><link rel="prefetch" href="/Praktikumsplaner/assets/js/23.89cefc12.js"><link rel="prefetch" href="/Praktikumsplaner/assets/js/24.29672386.js"><link rel="prefetch" href="/Praktikumsplaner/assets/js/25.90495132.js"><link rel="prefetch" href="/Praktikumsplaner/assets/js/26.c5024954.js"><link rel="prefetch" href="/Praktikumsplaner/assets/js/27.d756dc92.js"><link rel="prefetch" href="/Praktikumsplaner/assets/js/28.095a2805.js"><link rel="prefetch" href="/Praktikumsplaner/assets/js/29.dd99429b.js"><link rel="prefetch" href="/Praktikumsplaner/assets/js/3.72dae282.js"><link rel="prefetch" href="/Praktikumsplaner/assets/js/30.baf16122.js"><link rel="prefetch" href="/Praktikumsplaner/assets/js/31.95009995.js"><link rel="prefetch" href="/Praktikumsplaner/assets/js/32.ab88f9b1.js"><link rel="prefetch" href="/Praktikumsplaner/assets/js/33.4fe35350.js"><link rel="prefetch" href="/Praktikumsplaner/assets/js/34.c49b2e79.js"><link rel="prefetch" href="/Praktikumsplaner/assets/js/35.b6252a14.js"><link rel="prefetch" href="/Praktikumsplaner/assets/js/37.33059c9b.js"><link rel="prefetch" href="/Praktikumsplaner/assets/js/38.e21bf329.js"><link rel="prefetch" href="/Praktikumsplaner/assets/js/39.3c01adb3.js"><link rel="prefetch" href="/Praktikumsplaner/assets/js/4.ac502670.js"><link rel="prefetch" href="/Praktikumsplaner/assets/js/40.c72d7434.js"><link rel="prefetch" href="/Praktikumsplaner/assets/js/41.e592682e.js"><link rel="prefetch" href="/Praktikumsplaner/assets/js/42.e008f264.js"><link rel="prefetch" href="/Praktikumsplaner/assets/js/5.e291faba.js"><link rel="prefetch" href="/Praktikumsplaner/assets/js/6.812dc9d0.js"><link rel="prefetch" href="/Praktikumsplaner/assets/js/9.9c5a38db.js"><link rel="prefetch" href="/Praktikumsplaner/assets/js/vendors~docsearch.a926abff.js">
    <link rel="stylesheet" href="/Praktikumsplaner/assets/css/0.styles.628b93f1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div data-v-4acfb458><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Praktikumsplaner/" class="home-link router-link-active"><!----> <span class="site-name">Praktikumsplaner</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Praktikumsplaner/features/" class="nav-link">
  Features
</a></div><div class="nav-item"><a href="/Praktikumsplaner/documentation/" class="nav-link router-link-active">
  Technische Dokumentation
</a></div> <a href="https://github.com/it-at-m/praktikumsplaner" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Praktikumsplaner/features/" class="nav-link">
  Features
</a></div><div class="nav-item"><a href="/Praktikumsplaner/documentation/" class="nav-link router-link-active">
  Technische Dokumentation
</a></div> <a href="https://github.com/it-at-m/praktikumsplaner" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Tools</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Praktikumsplaner/documentation/TOOLS.html" class="sidebar-link">Tools</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>configuration</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Praktikumsplaner/documentation/architecture/configuration.html" class="sidebar-link">configuration</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Architektur</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Praktikumsplaner/documentation/architecture/overview.html" class="sidebar-link">Übersicht</a></li><li><a href="/Praktikumsplaner/documentation/architecture/adrs.html" class="sidebar-link">Architecture Decision Records (ADRs)</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Guides</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Praktikumsplaner/documentation/guides/technical-setup/" class="sidebar-link">Technisches Setup</a></li><li><a href="/Praktikumsplaner/documentation/guides/database-migration/" aria-current="page" class="active sidebar-link">Database Migration</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="database-migration"><a href="#database-migration" class="header-anchor">#</a> Database Migration</h1> <p>Our database migrations are handled by flyway.
This way we can version our DDL files.
They are automatically applied when the backend starts and there are new, not yet applied, migrations.</p> <p>For this to work if you have to make changes to the database you have to create a new SQL script in the migration folder.
The migrations folder is located in the backend <code>src/main/resources/db/migration</code>.
The scripts name has to follow this convention <code>V&lt;version_number&gt;__&lt;description_split_with_underscores&gt;</code>.
The <code>&lt;version_number&gt;</code> should be the next available number, so if there is a <code>V10__desc.sql</code> then the next script should
be named <code>V11__desc.sql</code>. The version number has to be unique, so if there are several people developing and need to add
SQL scripts then they have to communicate which version numbers they are using.
As this is not guaranteed you have to especially careful when reviewing and merging PRs with changes to the migration
files. You can see that there is a naming conflict when the file is not <code>added</code> but <code>modified</code> according to the PR.</p> <p>SQL migration scripts can NOT be modified after they have been applied to the db. If you find an error later, then you
have to write a new migration to correct the old one.</p> <p>Our database is a postgres database so we use the postgres sql dialect in the sql scripts.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Praktikumsplaner/documentation/guides/technical-setup/" class="prev">
        Technisches Setup
      </a></span> <!----></p></div> </main></div> <div class="home" data-v-4acfb458><div class="footer" data-v-4acfb458><a href="/Praktikumsplaner/contact/" class="nav-link" data-v-4acfb458>
  Kontakt
</a> <a href="/Praktikumsplaner/imprint/" class="nav-link" data-v-4acfb458>
  Impressum
</a> <div class="muc-footer" data-v-4acfb458>
        Made with ❤️ in munich
      </div></div></div></div><div class="global-ui"><!----></div></div>
    <script src="/Praktikumsplaner/assets/js/app.c1723936.js" defer></script><script src="/Praktikumsplaner/assets/js/1.1a559e28.js" defer></script><script src="/Praktikumsplaner/assets/js/36.d54ebdd6.js" defer></script>
  </body>
</html>
